# Connect Four
Connect Four е позната друштвена игра во која двајца играчи се натпреваруват да подредат 4 жетони од нивна боја хоризонтално, вертикално или дијагонално на една табла со димензии 7x6.  
Линк до поконкретно објаснување: https://en.wikipedia.org/wiki/Connect_Four  
Овој проект е имплементација на играта во форма на Windows Forms апликација.  

Линк до видео упатство: https://drive.google.com/file/d/1qLX1O7YyJHt9wmNCSIFx6iXapZOemUSV/view
## Имплементација на играта  
Апликацијата во позадина содржи 3 главни структури:  
- Самата форма која служи за event handling на кориснички влез како и приказ на потребните информации/промени кон корисникот (Form1.cs)
- Класата Game која го претставува конкретниот статус на играчката табла и содржи фунции за негова промена/преглед (Game.cs)
- Класата AIPlayer која служи за добивање потези од AI агентот соодветно со избраната тежина кога се игра во Single-Player режим (AIPlayer.cs).
### Form1.cs[Design]  
Дијазнот на апликацијата е релативно едноставен од визуелен аспект.  
Формата содржи:
- Празна плава табла (TableLayoutPanel) со 7 колони и 6 редови, односно вкупно 42 празни полиња (Panel)
- Група радио копчиња за избор на режим на играње, односно дали корисникот посакува да игра наспроти друг корисник (Multi-Player) или наспроти компјутер/AI агент (Single-Player)
- Доколку се избере "Single-Player" се прикажува дополнителна група радио копчиња за избор на тежина, односно колку интелигентен е AI агентот
- Копче "Reset Board" која ја чисти таблата од жетони
- Црно поле со текст кое служи за прикажуване на информации кон корисникот (како да започне да игра, чив ред е, кој е победник/дали е нерешено, како да започне одново)
- Два бројачи кои прикажуват колку пати победил секој играч (или AI агент ако е во тој режим)
- Копче "Reset Scores" која ги ресетира двата бројачи до нула  
### Form1.cs  
Од аспект на код. формата го содржи следното.  
Променливи:
- static Game game. Инстанца од Game класата
- AIPlayer AI. Инстанца од AIPLayer класата
- Panel[,] cells. Дводимензионална низа од панел објекти кои соодветуват со ќелиите во играчката табела, иницијализирана со димензии 6x7 добиени од Game.Rows и Game.Columns
- bool singlePlayerMode. Булова променлива која дефинира во кој режим се игра играта. Иницијално е со вредност false
- string difficulty. Стринг променлива која дефинира што е тежината на AI агентот, односно на неговите  потези. Иницијално е со вредност "Beginner"
- bool inputEnabled. Булова променлива која дефинира дали е дозволен влез од корисникот врз таблата, односно дали смее да спушти жетон, Иницијално е со вредност true 
- int p1Score. цел број кој дефинира колку пати победил играчот број 1. Иницијално е со вредност 0
- int p2Score. цел број кој дефинира колку пати победил играчот број 2. Иницијално е со вредност 0
  
Form1 класата содржи функции за:
- Иницијализирање на табелата
- Ажурирање на изгледот на табелата како и актуелниот статус на табелата во Game класата
- Повик кон AI агентот кога е негов ред да направи потег
- Ресетирање на играта 
- Функции за event handling 
 ### Game.cs  
Класата Game го содржи следното.  
Променливи:
- public const int Rows. цел број којшто го дефинира бројот на редови во играта, односно 6
- public const int Columns. цел број којшто го дефинира бројот на колони во играта, односно 7
- public int[,] board. дводимензионална низа од  цели броеви која е репрезентација на тековниот статус на табелата. Иницијализирана со димензии 6x7 добиени од Rows и Columns
- public int CurrentPlayer. цел број којшто дефинира кој играч е на ред да направи потег. Иницијализиран со вредност 1 

  
 Game класата содржи функции за:
- Ресетирање на табелата
- Спуштање на жетон според дадена колона, ред и играч
- Тргање на жетон од дадена колона и ред
- Пронаоѓање на најфлабок слободен ред во дадена колона
- Проверка за победа
- Анализа на статусот на табелата
- Проверка дали табелата е полна
- Промена на играч
 ### AIPlayer.cs  
Класата AIPlayer го содржи следното.  
Променливи:
- private Game game. инстанца од Game класата
- private Random rng. инстанца од Random класата за случаен избор на потези
  
AIPlayer класата содржи функција која, според влезниот difficulty параметар, ја повикува соодветната фунцкија за избор на потег

### Слики од апликацијата:
  
Слика од почетниот изглед на апликацијата:  
![image](https://github.com/user-attachments/assets/3fad6355-1292-4dd5-9a94-db68c836276e)  
Слика на изглед при неколку направени потези во Multi-Player режим:  
![image](https://github.com/user-attachments/assets/9c9895ef-8770-440b-b934-6973ae855713)  

## Упатство за Играње 

### Multi-Player:
Корисникот со клик на глувчето избира во која колона да се спушти жетон од неговата боја (црвена за играч број 1, жолта за играч број 2). Откако ќе се избере колона ќе се изврши кратка анимација за симулирање на вистински пад кон најнискиот слободен ред во избраната колона и потоа другиот играч ќе има прилика да го направи истото со жетон од негова боја.  
Овој циклус продолжвуа се додека не се подредени 4 жетони од иста боја или не е исполнета целата табла. Во првиот случај се нагласува како победник играчот којшто успеа да ги подреди 4те жетони, се инкрементира неговиот број на победи и неможе понатаму да се смени таблата се додека не се кликне на "Reset Board" копчето. Во вториот случај едноставно се нагласува дека играта е нерешена и повторно треба да се ресетира таблата за да се продолжи со играње. 
### Single-Player:  
Слична постапка како и на другиот режим со разлика што играчот број 2 е заменет со AI агент. Корисникот може да избере од 4 вкупно тежини:  
- Beginner  
- Intermediate
- Advanced
- Extreme
## Клучни Функции: 

### EvaluateBoard(): 

EvaluateBoard функцијата од Game класата има клучна улога за анализа на таблата од страна на AI агентот Advanced и Extreme тежините. Таа враќа оцена добиена преку собирање на оцените на секој хоризонтален, вертикален и дијагонален сегмент (еден сегмент е низа од 4 подредени полиња) добиени преку функцијата ScoreSegment.  

### ScoreSegment(): 

ScoreSegment функцијата од Game класата дава оценка на даден сегмент според колку полиња припаѓат на корисникот (имаат вредност 1). колку на AI агентот (имаат вредност 2) , и колку се празни полиња (имаат вредност 0):  

- Доколку сите 4 полиња припаѓат на AI агентот враќа оцена 100000. Но ако сите припаѓат на корисникот враќа оцена -100000 

- Доколку 3 полиња припаѓат на AI агентот и едно поле е празно враќа оцена 1000, Но ако 3 припаѓат на корисникот и 1 е празно враќа оцена -1000 

- Доколку 2 полиња припаѓат на AI агентот и 2 се празни враќа оцена 100. Но ако 2 припаѓат на корисникот и 2 се празни враќа оцена -100 

- Сите други комбинации немаат голем ефект при избор на соодветен потег па затоа се враќа вредност 0. 
  
